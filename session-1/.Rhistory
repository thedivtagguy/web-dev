facet_wrap( ~ Type, scales = "free")+
scale_x_discrete(expand=c(0,0),
breaks=c("1966","1976","1986","1996","2006","2016"))+
scale_fill_distiller(palette = "RdPu") +
theme_minimal() +
theme(
text = element_text(color = "white"),
panel.grid = element_blank(),
plot.margin = unit(c(1,2,1,2), "cm"),
axis.text = element_blank(),
plot.title =  element_text(size = rel(2.5), hjust = .5, family = "Gotham Black", face = "bold", margin = margin(t = 10, b = 15)),
plot.subtitle =  element_text(size = rel(1.25), hjust = .5,family = "Mercury", face = "bold.italic", margin = margin(b = 15)),
legend.title = element_text(family = "Gotham Medium", face = "bold", size = 12),
legend.text = element_text(family = "Gotham Medium", size = 6.5),
plot.background = element_rect(fill = "#111111", color = NA),
panel.spacing.x  = unit(3, "cm"),
panel.spacing.y  = unit(5, "cm"),
axis.text.x = element_text(size = 8, color = "white"),
strip.text = element_text(color = "white"),
legend.position = "top"
) +
labs(x = NULL, y = NULL)
data %>% filter(Type != "Total") %>%
ggplot(aes(Year, Type, fill = Area)) +
geom_tile() +
labs(subtitle = glue::glue("<span style='font-size:11pt'>Sepal width vs. sepal length for three *Iris </span>")) +
facet_wrap( ~ Type, scales = "free")+
scale_x_discrete(expand=c(0,0),
breaks=c("1966","1976","1986","1996","2006","2016"))+
scale_fill_distiller(palette = "RdPu") +
theme_minimal() +
theme(
text = element_text(color = "white"),
panel.grid = element_blank(),
plot.margin = unit(c(1,2,1,2), "cm"),
axis.text = element_blank(),
plot.title =  element_text(size = rel(2.5), hjust = .5, family = "Gotham Black", face = "bold", margin = margin(t = 10, b = 15)),
legend.title = element_text(family = "Gotham Medium", face = "bold", size = 12),
legend.text = element_text(family = "Gotham Medium", size = 6.5),
plot.background = element_rect(fill = "#111111", color = NA),
panel.spacing.x  = unit(3, "cm"),
panel.spacing.y  = unit(5, "cm"),
axis.text.x = element_text(size = 8, color = "white"),
strip.text = element_text(color = "white"),
legend.position = "top"
) +
labs(x = NULL, y = NULL)
data %>% filter(Type != "Total") %>%
ggplot(aes(Year, Type, fill = Area)) +
geom_tile() +
labs(subtitle = glue::glue("Hell, this is a *subtitle*")) +
facet_wrap( ~ Type, scales = "free")+
scale_x_discrete(expand=c(0,0),
breaks=c("1966","1976","1986","1996","2006","2016"))+
scale_fill_distiller(palette = "RdPu") +
theme_minimal() +
theme(
text = element_text(color = "white"),
panel.grid = element_blank(),
plot.margin = unit(c(1,2,1,2), "cm"),
axis.text = element_blank(),
plot.title =  element_text(size = rel(2.5), hjust = .5, family = "Gotham Black", face = "bold", margin = margin(t = 10, b = 15)),
plot.subtitle =  element_text(size = rel(1.25), hjust = .5,family = "Mercury", face = "bold.italic", margin = margin(b = 15)),
legend.title = element_text(family = "Gotham Medium", face = "bold", size = 12),
legend.text = element_text(family = "Gotham Medium", size = 6.5),
plot.background = element_rect(fill = "#111111", color = NA),
panel.spacing.x  = unit(3, "cm"),
panel.spacing.y  = unit(5, "cm"),
axis.text.x = element_text(size = 8, color = "white"),
strip.text = element_text(color = "white"),
legend.position = "top"
) +
labs(x = NULL, y = NULL)
data %>% filter(Type != "Total") %>%
ggplot(aes(Year, Type, fill = Area)) +
geom_tile() +
labs(subtitle = glue::glue("Hell, this is a *subtitle*")) +
facet_wrap( ~ Type, scales = "free")+
scale_x_discrete(expand=c(0,0),
breaks=c("1966","1976","1986","1996","2006","2016"))+
scale_fill_distiller(palette = "RdPu") +
theme_minimal() +
theme(
text = element_text(color = "white"),
panel.grid = element_blank(),
plot.margin = unit(c(1,2,1,2), "cm"),
axis.text = element_blank(),
plot.title =  element_text(size = rel(2.5), hjust = .5, family = "Gotham Black", face = "bold", margin = margin(t = 10, b = 15)),
plot.subtitle =  element_markdown(size = rel(1.25), hjust = .5,family = "Mercury", face = "bold.italic", margin = margin(b = 15)),
legend.title = element_text(family = "Gotham Medium", face = "bold", size = 12),
legend.text = element_text(family = "Gotham Medium", size = 6.5),
plot.background = element_rect(fill = "#111111", color = NA),
panel.spacing.x  = unit(3, "cm"),
panel.spacing.y  = unit(5, "cm"),
axis.text.x = element_text(size = 8, color = "white"),
strip.text = element_text(color = "white"),
legend.position = "top"
) +
labs(x = NULL, y = NULL)
data %>% filter(Type != "Total") %>%
ggplot(aes(Year, Type, fill = Area)) +
geom_tile() +
labs(subtitle = glue::glue("But the area in which it is cultivated remains <br> more or less the same...)) +
facet_wrap( ~ Type, scales = "free")+
scale_x_discrete(expand=c(0,0),
breaks=c("1966","1976","1986","1996","2006","2016"))+
scale_fill_distiller(palette = "RdPu") +
theme_minimal() +
theme(
text = element_text(color = "white"),
panel.grid = element_blank(),
plot.margin = unit(c(1,2,1,2), "cm"),
axis.text = element_blank(),
plot.title =  element_text(size = rel(2.5), hjust = .5, family = "Gotham Black", face = "bold", margin = margin(t = 10, b = 15)),
plot.subtitle =  element_markdown(size = rel(1.25), hjust = .5,family = "Mercury", face = "bold.italic", margin = margin(b = 15)),
legend.title = element_text(family = "Gotham Medium", face = "bold", size = 12),
legend.text = element_text(family = "Gotham Medium", size = 6.5),
plot.background = element_rect(fill = "#111111", color = NA),
data %>% filter(Type != "Total") %>%
ggplot(aes(Year, Type, fill = Area)) +
geom_tile() +
labs(subtitle = glue::glue("But the area in which it is cultivated remains <br> more or less the same...")) +
facet_wrap( ~ Type, scales = "free")+
scale_x_discrete(expand=c(0,0),
breaks=c("1966","1976","1986","1996","2006","2016"))+
scale_fill_distiller(palette = "RdPu") +
theme_minimal() +
theme(
text = element_text(color = "white"),
panel.grid = element_blank(),
plot.margin = unit(c(1,2,1,2), "cm"),
axis.text = element_blank(),
plot.title =  element_text(size = rel(2.5), hjust = .5, family = "Gotham Black", face = "bold", margin = margin(t = 10, b = 15)),
plot.subtitle =  element_markdown(size = rel(1.25), hjust = .5,family = "Mercury", face = "bold.italic", margin = margin(b = 15)),
legend.title = element_text(family = "Gotham Medium", face = "bold", size = 12),
legend.text = element_text(family = "Gotham Medium", size = 6.5),
plot.background = element_rect(fill = "#111111", color = NA),
panel.spacing.x  = unit(3, "cm"),
panel.spacing.y  = unit(5, "cm"),
axis.text.x = element_text(size = 8, color = "white"),
strip.text = element_text(color = "white"),
legend.position = "top"
) +
labs(x = NULL, y = NULL)
data %>% filter(Type != "Total") %>%
ggplot(aes(Year, Type, fill = Area)) +
geom_tile() +
labs(subtitle = glue::glue("But the area in which it is cultivated remains <br> more or less the same...")) +
facet_wrap( ~ Type, scales = "free")+
scale_x_discrete(expand=c(0,0),
breaks=c("1966","1976","1986","1996","2006","2016"))+
scale_fill_distiller(palette = "RdPu") +
theme_minimal() +
theme(
text = element_text(color = "white"),
panel.grid = element_blank(),
plot.margin = unit(c(1,2,1,2), "cm"),
axis.text = element_blank(),
plot.title =  element_text(size = rel(2.5), hjust = .5, family = "Gotham Black", face = "bold", margin = margin(t = 10, b = 15)),
plot.subtitle =  element_markdown(size = rel(1.25), hjust = .5,family = "Mercury", face = "bold.italic", margin = margin(b = 15)),
legend.title = element_text(family = "Gotham Medium", face = "bold", size = 12),
legend.text = element_text(family = "Gotham Medium", size = 6.5),
plot.background = element_rect(fill = "#111111", color = NA),
panel.spacing.x  = unit(3, "cm"),
panel.spacing.y  = unit(5, "cm"),
axis.text.x = element_text(size = 8, color = "white"),
strip.text = element_text(color = "white"),
legend.position = "top"
) +
labs(x = NULL, y = NULL)
yield + area
yield <- data %>% filter(Type != "Total") %>%
ggplot(aes(Year, Type, fill = Yield)) +
geom_tile() +
labs(title = "Kharif & Rabi Yields",
subtitle = "With data of crop yields between 1966 and 2016, Mbr> we see that the amount of yield has been increasing over the years...") +
facet_wrap( ~ Type, scales = "free")+
scale_x_discrete(expand=c(0,0),
breaks=c("1966","1976","1986","1996","2006","2016"))+
scale_fill_distiller(palette = "RdPu") +
theme_minimal() +
theme(
text = element_text(color = "white"),
panel.grid = element_blank(),
plot.margin = unit(c(1,2,1,2), "cm"),
axis.text = element_blank(),
plot.title =  element_text(size = rel(2.5), hjust = .5, family = "Gotham Black", face = "bold", margin = margin(t = 10, b = 15)),
plot.subtitle =  element_text(size = rel(1.25), hjust = .5,family = "Mercury", face = "bold.italic", margin = margin(b = 15)),
legend.title = element_text(family = "Gotham Medium", face = "bold", size = 12),
legend.text = element_text(family = "Gotham Medium", size = 6.5),
plot.background = element_rect(fill = "#111111", color = NA),
panel.spacing.x  = unit(3, "cm"),
panel.spacing.y  = unit(5, "cm"),
axis.text.x = element_text(size = 8, color = "white"),
strip.text = element_text(color = "white"),
legend.position = "top"
) +
labs(x = NULL, y = NULL)
area <- data %>% filter(Type != "Total") %>%
ggplot(aes(Year, Type, fill = Area)) +
geom_tile() +
labs(subtitle = glue::glue("But the area in which it is cultivated remains <br> more or less the same...")) +
facet_wrap( ~ Type, scales = "free")+
scale_x_discrete(expand=c(0,0),
breaks=c("1966","1976","1986","1996","2006","2016"))+
scale_fill_distiller(palette = "RdPu") +
theme_minimal() +
theme(
text = element_text(color = "white"),
panel.grid = element_blank(),
plot.margin = unit(c(1,2,1,2), "cm"),
axis.text = element_blank(),
plot.title =  element_text(size = rel(2.5), hjust = .5, family = "Gotham Black", face = "bold", margin = margin(t = 10, b = 15)),
plot.subtitle =  element_markdown(size = rel(1.25), hjust = .5,family = "Mercury", face = "bold.italic", margin = margin(b = 15)),
legend.title = element_text(family = "Gotham Medium", face = "bold", size = 12),
legend.text = element_text(family = "Gotham Medium", size = 6.5),
plot.background = element_rect(fill = "#111111", color = NA),
panel.spacing.x  = unit(3, "cm"),
panel.spacing.y  = unit(5, "cm"),
axis.text.x = element_text(size = 8, color = "white"),
strip.text = element_text(color = "white"),
legend.position = "top"
) +
labs(x = NULL, y = NULL)
yield + area
yield <- data %>% filter(Type != "Total") %>%
ggplot(aes(Year, Type, fill = Yield)) +
geom_tile() +
labs(title = "Kharif & Rabi Yields",
subtitle = "With data of crop yields between 1966 and 2016, <br> we see that the amount of yield has been increasing over the years...") +
facet_wrap( ~ Type, scales = "free")+
scale_x_discrete(expand=c(0,0),
breaks=c("1966","1976","1986","1996","2006","2016"))+
scale_fill_distiller(palette = "RdPu") +
theme_minimal() +
theme(
text = element_text(color = "white"),
panel.grid = element_blank(),
plot.margin = unit(c(1,2,1,2), "cm"),
axis.text = element_blank(),
plot.title =  element_text(size = rel(2.5), hjust = .5, family = "Gotham Black", face = "bold", margin = margin(t = 10, b = 15)),
plot.subtitle =  element_text(size = rel(1.25), hjust = .5,family = "Mercury", face = "bold.italic", margin = margin(b = 15)),
legend.title = element_text(family = "Gotham Medium", face = "bold", size = 12),
legend.text = element_text(family = "Gotham Medium", size = 6.5),
plot.background = element_rect(fill = "#111111", color = NA),
panel.spacing.x  = unit(3, "cm"),
panel.spacing.y  = unit(5, "cm"),
axis.text.x = element_text(size = 8, color = "white"),
strip.text = element_text(color = "white"),
legend.position = "top"
) +
labs(x = NULL, y = NULL)
area <- data %>% filter(Type != "Total") %>%
ggplot(aes(Year, Type, fill = Area)) +
geom_tile() +
labs(subtitle = glue::glue("But the area in which it is cultivated remains <br> more or less the same...")) +
facet_wrap( ~ Type, scales = "free")+
scale_x_discrete(expand=c(0,0),
breaks=c("1966","1976","1986","1996","2006","2016"))+
scale_fill_distiller(palette = "RdPu") +
theme_minimal() +
theme(
text = element_text(color = "white"),
panel.grid = element_blank(),
plot.margin = unit(c(1,2,1,2), "cm"),
axis.text = element_blank(),
plot.title =  element_text(size = rel(2.5), hjust = .5, family = "Gotham Black", face = "bold", margin = margin(t = 10, b = 15)),
plot.subtitle =  element_markdown(size = rel(1.25), hjust = .5,family = "Mercury", face = "bold.italic", margin = margin(b = 15)),
legend.title = element_text(family = "Gotham Medium", face = "bold", size = 12),
legend.text = element_text(family = "Gotham Medium", size = 6.5),
plot.background = element_rect(fill = "#111111", color = NA),
panel.spacing.x  = unit(3, "cm"),
panel.spacing.y  = unit(5, "cm"),
axis.text.x = element_text(size = 8, color = "white"),
strip.text = element_text(color = "white"),
legend.position = "top"
) +
labs(x = NULL, y = NULL)
yield + area
yield <- data %>% filter(Type != "Total") %>%
ggplot(aes(Year, Type, fill = Yield)) +
geom_tile() +
labs(title = "Kharif & Rabi Yields",
subtitle = "With data of crop yields between 1966 and 2016, <br> we see that the amount of yield has been increasing over the years...") +
facet_wrap( ~ Type, scales = "free")+
scale_x_discrete(expand=c(0,0),
breaks=c("1966","1976","1986","1996","2006","2016"))+
scale_fill_distiller(palette = "RdPu") +
theme_minimal() +
theme(
text = element_text(color = "white"),
panel.grid = element_blank(),
plot.margin = unit(c(1,2,1,2), "cm"),
axis.text = element_blank(),
plot.title =  element_text(size = rel(2.5), hjust = .5, family = "Gotham Black", face = "bold", margin = margin(t = 10, b = 15)),
plot.subtitle =  element_markdown(size = rel(1.25), hjust = .5,family = "Mercury", face = "bold.italic", margin = margin(b = 15)),
legend.title = element_text(family = "Gotham Medium", face = "bold", size = 12),
legend.text = element_text(family = "Gotham Medium", size = 6.5),
plot.background = element_rect(fill = "#111111", color = NA),
panel.spacing.x  = unit(3, "cm"),
panel.spacing.y  = unit(5, "cm"),
axis.text.x = element_text(size = 8, color = "white"),
strip.text = element_text(color = "white"),
legend.position = "top"
) +
labs(x = NULL, y = NULL)
area <- data %>% filter(Type != "Total") %>%
ggplot(aes(Year, Type, fill = Area)) +
geom_tile() +
labs(subtitle = glue::glue("But the area in which it is cultivated remains <br> more or less the same...")) +
facet_wrap( ~ Type, scales = "free")+
scale_x_discrete(expand=c(0,0),
breaks=c("1966","1976","1986","1996","2006","2016"))+
scale_fill_distiller(palette = "RdPu") +
theme_minimal() +
theme(
text = element_text(color = "white"),
panel.grid = element_blank(),
plot.margin = unit(c(1,2,1,2), "cm"),
axis.text = element_blank(),
plot.title =  element_text(size = rel(2.5), hjust = .5, family = "Gotham Black", face = "bold", margin = margin(t = 10, b = 15)),
plot.subtitle =  element_markdown(size = rel(1.25), hjust = .5,family = "Mercury", face = "bold.italic", margin = margin(b = 15)),
legend.title = element_text(family = "Gotham Medium", face = "bold", size = 12),
legend.text = element_text(family = "Gotham Medium", size = 6.5),
plot.background = element_rect(fill = "#111111", color = NA),
panel.spacing.x  = unit(3, "cm"),
panel.spacing.y  = unit(5, "cm"),
axis.text.x = element_text(size = 8, color = "white"),
strip.text = element_text(color = "white"),
legend.position = "top"
) +
labs(x = NULL, y = NULL)
yield + area
yield / area
yield / grid::textGrob('Some really important text')/ area
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
data <- read.csv("D:/Downloads/samples.csv")
View(data)
data <- data %>%
mutate(group_id = group_indices(., link))
data <- data %>%
group_by(link) %>%
mutate(group_id = group_indices(., link))
data <- data %>%
group_by(link) %>%
mutate(link_id = cur_group_id())
data <- read.csv("D:/Downloads/samples.csv")
data <- data %>%
group_by(link) %>%
mutate(link_id = cur_group_id())
data <- data %>%
group_by(link) %>%
mutate(link_id = cur_group_id()) %>%
data <- data %>%
group_by(link) %>%
mutate(link_id = cur_group_id()) %>%
filter(name != 'dibya') %>%
filter(name != 'padmini')
links <- data %>%
group_by(link_id) %>%
mutate(repeats = n_distinct(link_id) == 1)
View(links)
links <- data %>%
group_by(link_id) %>%
mutate(repeats = n_distinct(link_id) != 1)
links <- data %>%
group_by(name) %>%
mutate(shared = n_distinct(link_id) == n_distinct(.$link_id))
remove(links)
links <- data %>%
group_by(name) %>%
mutate(shared = n_distinct(link_id) == n_distinct(.$link_id))
View(links)
links <- data %>%
group_by(link_id) %>%
mutate(shared = n_distinct(name) == n_distinct(.$name))
links <- data   %>%
filter(link_id %in% (
test %>%
group_split(names())  %>%
map( ~ pull(., link_id)) %>%
reduce(intersect)
))
links <- data   %>%
filter(link_id %in% (
test %>%
group_split(name)  %>%
map( ~ pull(., link_id)) %>%
reduce(intersect)
))
links <- subset(data, link_id %in% Reduce(intersect, split(link_id, name)))
View(links)
links <- subset(data, name %in% Reduce(intersect, split(name, link_id)))
links <- data %>%
group_by(link_id) %>% filter( n() > 1 )
links <- data %>%
group_by(link_id) %>% filter( n() < 1 )
links <- data %>%
group_by(link_id) %>% filter( n() > 2 )
links <- data %>%
group_by(link_id) %>% filter( n() > 1 )
library(tidytext)
data <- read.csv("D:/Downloads/samples.csv")
data <- data %>%
group_by(link) %>%
mutate(link_id = cur_group_id()) %>%
filter(name != 'dibya') %>%
filter(name != 'padmini')
shared_links <- data %>%
group_by(link_id) %>% filter( n() > 1 )
View(shared_links)
desc <- data %>%
unnest_tokens(word, rationale)
View(desc)
desc <- data %>%
group_by(link_id)
desc <- data %>%
group_by(link_id) %>%
unnest_tokens(word, rationale)
desc <- data %>%
group_by(link_id, link) %>%
unnest_tokens(word, rationale)
desc <- data %>%
group_by(name, link_id, link) %>%
unnest_tokens(word, rationale)
desc <- data %>%
group_by(name, link_id, link) %>%
unnest_tokens(word, rationale) %>%
bind_tf_idf(word, name, link_id)
View(desc)
desc %>%
group_by(name) %>%
slice_max(tf_idf, n = 15) %>%
ungroup() %>%
mutate(word = reorder(word, tf_idf)) %>%
ggplot(aes(tf_idf, word, fill = name)) +
geom_col(show.legend = FALSE) +
labs(x = "tf-idf", y = NULL) +
facet_wrap(~name, ncol = 2, scales = "free")
desc %>%
group_by(name) %>%
count(word, sort = TRUE) %>%
filter(n > 600) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(n, word)) +
geom_col() +
labs(y = NULL)
desc %>%
count(word, sort = TRUE) %>%
filter(n > 600) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(n, word)) +
geom_col() +
labs(y = NULL)
desc <- data %>%
group_by(name, link_id, link) %>%
unnest_tokens(word, rationale) %>%
bind_tf_idf(word, name, link_id)
desc <- data %>%
group_by(name, link_id, link) %>%
unnest_tokens(word, rationale)
desc <- data %>%
group_by(name, link_id, link) %>%
unnest_tokens(word, rationale) %>%
count(word, sort = TRUE)
desc %>%
count(word, sort = TRUE) %>%
filter(n > 600) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(n, word)) +
geom_col() +
labs(y = NULL)
desc <- data %>%
group_by(name, link_id, link) %>%
unnest_tokens(word, rationale) %>%
count(word, sort = TRUE) %>%
anti_join(stop_words)
desc %>%
count(word, sort = TRUE) %>%
filter(n > 600) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(n, word)) +
geom_col() +
labs(y = NULL)
desc %>%
count(word, sort = TRUE) %>%
filter(n > 3) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(n, word)) +
geom_col() +
labs(y = NULL)
desc %>%
count(word, sort = TRUE) %>%
filter(n >= 3) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(n, word)) +
geom_col() +
labs(y = NULL)
data <- read.csv("D:/Downloads/samples.csv")
data <- data %>%
group_by(link) %>%
mutate(link_id = cur_group_id()) %>%
filter(name != 'dibya') %>%
filter(name != 'padmini')
shared_links <- data %>%
group_by(link_id) %>% filter( n() > 1 )
shared_links <- data %>%
group_by(link_id) %>% filter( n() > 1 ) %>%
group_by(link_id)
remotes::install_github('yihui/xaringan')
setwd("D:/Data Projects/web-dev-interest/sessions/session 1")
